<ion-view bindonce title="{{timer.title}}">
	<ion-content class="has-header">
		<ion-nav-buttons side="right">
			<button class="button button-clear icon ion-ios7-compose-outline" ng-click="editTimerModal(timer.slug)"></button>
		</ion-nav-buttons>

		<div class='card card--timer timer-active' id='chart-div'>
			<div class='item item-nopadding'>
				<div class='chart-wrapper'>
					<div class='chart' id="timer-chart"></div>
				</div>

				<timer ng-if="timer_set" class="the-timer" interval="10000" start-time="timer_start_time" end-time="timer_end_time">
					<p>{{mminutes}}:{{sseconds}}</p>
				</timer>
				<div ng-if="!timer_set" class="placeholder-timer">
					<p ng-if="!break_timer_set">{{timer.length.label}}</p>
					<p ng-if="break_timer_set">BREAK</p>
				</div>
			</div>

			<div class='item item-thinpadding'>
				<div class='break-timer-label clearfix'>
					<p>Break timer</p>
					<timer ng-if="break_timer_set" class='the-break-timer' interval="10000" start-time="break_timer_start_time" end-time="break_timer_end_time">
						{{mminutes}}:{{sseconds}}
					</timer>
					<div ng-if="!break_timer_set" class='placeholder-break-timer'>
						{{timer.break.label}}
					</div>
				</div>
				<div class='progress-wrapper'>
					<div id='break-progress' style="width: 100%; height: 4px;"></div>
				</div>
			</div>
		</div>

		<div class='card card--timer'>
			<div class='item item-toggle'>
				Repeat Timer
				<label class="toggle toggle-assertive">
					<input type="checkbox" ng-model="timer.repeat">
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>

			<div class="item tabs">
				<a class="tab-item" ng-if="timer.state != 'paused'" ng-click="beginTimer()">
					<i class="icon ion-ios7-play-outline"></i>
				</a>
				<a class="tab-item" ng-if="timer.state === 'paused'" ng-click="resumeTimer()">
					<i class="icon ion-ios7-play"></i>
				</a>
				<a class="tab-item" ng-click="pauseTimer()">
					<i class="icon ion-ios7-pause-outline"></i>
				</a>
				<a class="tab-item" ng-click="resetTimer()">
					<i class="icon ion-ios7-reload"></i>
				</a>
			</div>
			<div class="item">
				{{timer.state}}
			</div>

		</div>

	</ion-content>
</ion-view>
